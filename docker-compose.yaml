version: "3.8"

services:
  backend:
    build:
      context: ./packages/server
      dockerfile: Dockerfile
    ports:
      - "3000:3000"
    # environment:
    #   - MONGODB_URI=mongodb://mongo:27017/yourdbname
    # depends_on:
    #   - mongo
    command: sh -c "yarn dev && echo 'Backend is running at http://localhost:3000'"

  # mongo:
  #   image: mongo:latest
  #   ports:
  #     - "27017:27017"
  #   volumes:
  #     - mongo-data:/data/db

  client:
    build:
      context: ./packages/client
      dockerfile: Dockerfile
    ports:
      - "5173:5173"
    command: sh -c "yarn dev && echo 'Client is running at http://localhost:5173'"
# volumes:
#   mongo-data:
